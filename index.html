<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPA UNIVERSE</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
</head>

<body>
    
    <div id="app">
        <nav>
            <a href="/" onclick="route()">Home</a>
            <a href="/universe" onclick="route()">O Universo</a>
            <a href="/exploracao" onclick="route()">Exploracao</a>
        </nav>

        <main>
            <img class="background" src="./assets/mountains-universe-1.png">
        </main>
    </div>

</body>

<script>

        const routes = {
        "/": "/pages/home.html",
        "/abouniverseut": "/pages/universe.html",
        "/exploracao": "/pages/exploracao.html",
        404: "/pages/404.html",
    }

    function route(event) {
        event = event || window.event // Obtém o evento ou o evento da janela se não estiver disponível
        event.preventDefault() // Impede a ação padrão do evento (navegação para uma nova página)
    
        window.history.pushState({}, "", event.target.href)

        handle()
    }

    function handle(){
        const { pathname } = window.location // Extrai o pathname do objeto window.location
            const route = routes[pathname] || routes[404]// Obtém a rota correspondente do objeto routes, ou a rota 404 se a rota não existir
            
            // Faz uma requisição fetch à rota obtida
            fetch(route)
            .then(data => data.text()) // Converte a resposta para texto
            .then(html => {
                document.querySelector('#app').innerHTML = html // Insere o HTML obtido na div com id 'app'
            }) 
    }

</script>

</html>